Command: ninja all
[1/50] Linking C static library esp-idf/ts_storage/libts_storage.a
[2/50] Building C object esp-idf/ts_console/CMakeFiles/__idf_ts_console.dir/src/ts_console_builtin.c.obj
FAILED: esp-idf/ts_console/CMakeFiles/__idf_ts_console.dir/src/ts_console_builtin.c.obj 
/Users/thomas/.espressif/tools/xtensa-esp-elf/esp-14.2.0_20241119/xtensa-esp-elf/bin/xtensa-esp32s3-elf-gcc -DESP_PLATFORM -DIDF_VER=\"v5.5.1-dirty\" -DSOC_MMU_PAGE_SIZE=CONFIG_MMU_PAGE_SIZE -DSOC_XTAL_FREQ_MHZ=CONFIG_XTAL_FREQ -DTS_CONFIG_VERSION_MAJOR=0 -DTS_CONFIG_VERSION_MINOR=1 -DTS_CONFIG_VERSION_PATCH=0 -DTS_EVENT_VERSION_MAJOR=0 -DTS_EVENT_VERSION_MINOR=1 -DTS_EVENT_VERSION_PATCH=0 -DTS_LOG_VERSION_MAJOR=0 -DTS_LOG_VERSION_MINOR=1 -DTS_LOG_VERSION_PATCH=0 -DTS_SERVICE_VERSION_MAJOR=0 -DTS_SERVICE_VERSION_MINOR=1 -DTS_SERVICE_VERSION_PATCH=0 -D_GLIBCXX_HAVE_POSIX_SEMAPHORE -D_GLIBCXX_USE_POSIX_SEMAPHORE -D_GNU_SOURCE -D_POSIX_READER_WRITER_LOCKS -I/Users/thomas/TianshanOS/build/config -I/Users/thomas/TianshanOS/components/ts_console/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/newlib/platform_include -I/Users/thomas/esp/v5.5.1/esp-idf/components/freertos/config/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/freertos/config/include/freertos -I/Users/thomas/esp/v5.5.1/esp-idf/components/freertos/config/xtensa/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/freertos/FreeRTOS-Kernel/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/freertos/FreeRTOS-Kernel/portable/xtensa/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/freertos/FreeRTOS-Kernel/portable/xtensa/include/freertos -I/Users/thomas/esp/v5.5.1/esp-idf/components/freertos/esp_additions/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/include/soc -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/include/soc/esp32s3 -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/dma/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/ldo/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/debug_probe/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/mspi_timing_tuning/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/mspi_timing_tuning/tuning_scheme_impl/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/power_supply/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/port/esp32s3/. -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/port/esp32s3/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/mspi_timing_tuning/port/esp32s3/. -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/mspi_timing_tuning/port/esp32s3/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/heap/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/heap/tlsf -I/Users/thomas/esp/v5.5.1/esp-idf/components/log/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/soc/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/soc/esp32s3 -I/Users/thomas/esp/v5.5.1/esp-idf/components/soc/esp32s3/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/soc/esp32s3/register -I/Users/thomas/esp/v5.5.1/esp-idf/components/hal/platform_port/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/hal/esp32s3/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/hal/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_rom/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_rom/esp32s3/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_rom/esp32s3/include/esp32s3 -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_rom/esp32s3 -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_common/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_system/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_system/port/soc -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_system/port/include/private -I/Users/thomas/esp/v5.5.1/esp-idf/components/xtensa/esp32s3/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/xtensa/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/xtensa/deprecated_include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_timer/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/include/apps -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/include/apps/sntp -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/lwip/src/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/port/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/port/freertos/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/port/esp32xx/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/port/esp32xx/include/arch -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/port/esp32xx/include/sys -I/Users/thomas/TianshanOS/components/ts_core/include -I/Users/thomas/TianshanOS/components/ts_core/ts_config/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/nvs_flash/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_partition/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/spiffs/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/fatfs/diskio -I/Users/thomas/esp/v5.5.1/esp-idf/components/fatfs/src -I/Users/thomas/esp/v5.5.1/esp-idf/components/fatfs/vfs -I/Users/thomas/esp/v5.5.1/esp-idf/components/wear_levelling/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/sdmmc/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_sdmmc/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_gpio/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_sdspi/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_spi/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_pm/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/json/cJSON -I/Users/thomas/esp/v5.5.1/esp-idf/components/vfs/include -I/Users/thomas/TianshanOS/components/ts_core/ts_log/include -I/Users/thomas/TianshanOS/components/ts_core/ts_event/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_event/include -I/Users/thomas/TianshanOS/components/ts_core/ts_service/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/console -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_vfs_console/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/driver/deprecated -I/Users/thomas/esp/v5.5.1/esp-idf/components/driver/i2c/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/driver/touch_sensor/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/driver/twai/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/driver/touch_sensor/esp32s3/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_ringbuf/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_pcnt/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_gptimer/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_mcpwm/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_ana_cmpr/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_i2s/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_sdio/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_dac/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_rmt/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_tsens/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_sdm/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_i2c/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_uart/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_ledc/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_parlio/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_usb_serial_jtag/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_twai/include -mlongcalls  -fno-builtin-memcpy -fno-builtin-memset -fno-builtin-bzero -fno-builtin-stpcpy -fno-builtin-strncpy -fdiagnostics-color=always -ffunction-sections -fdata-sections -Wall -Werror=all -Wno-error=unused-function -Wno-error=unused-variable -Wno-error=unused-but-set-variable -Wno-error=deprecated-declarations -Wextra -Wno-error=extra -Wno-unused-parameter -Wno-sign-compare -Wno-enum-conversion -gdwarf-4 -ggdb -mdisable-hardware-atomics -Og -fno-shrink-wrap -fmacro-prefix-map=/Users/thomas/TianshanOS=. -fmacro-prefix-map=/Users/thomas/esp/v5.5.1/esp-idf=/IDF -fstrict-volatile-bitfields -fno-jump-tables -fno-tree-switch-conversion -std=gnu17 -Wno-old-style-declaration -MD -MT esp-idf/ts_console/CMakeFiles/__idf_ts_console.dir/src/ts_console_builtin.c.obj -MF esp-idf/ts_console/CMakeFiles/__idf_ts_console.dir/src/ts_console_builtin.c.obj.d -o esp-idf/ts_console/CMakeFiles/__idf_ts_console.dir/src/ts_console_builtin.c.obj -c /Users/thomas/TianshanOS/components/ts_console/src/ts_console_builtin.c
/Users/thomas/TianshanOS/components/ts_console/src/ts_console_builtin.c:15:10: fatal error: esp_flash.h: No such file or directory
   15 | #include "esp_flash.h"
      |          ^~~~~~~~~~~~~
compilation terminated.
[3/50] Building C object esp-idf/ts_drivers/CMakeFiles/__idf_ts_drivers.dir/src/ts_usb_mux.c.obj
FAILED: esp-idf/ts_drivers/CMakeFiles/__idf_ts_drivers.dir/src/ts_usb_mux.c.obj 
/Users/thomas/.espressif/tools/xtensa-esp-elf/esp-14.2.0_20241119/xtensa-esp-elf/bin/xtensa-esp32s3-elf-gcc -DESP_PLATFORM -DIDF_VER=\"v5.5.1-dirty\" -DSOC_MMU_PAGE_SIZE=CONFIG_MMU_PAGE_SIZE -DSOC_XTAL_FREQ_MHZ=CONFIG_XTAL_FREQ -DTS_CONFIG_VERSION_MAJOR=0 -DTS_CONFIG_VERSION_MINOR=1 -DTS_CONFIG_VERSION_PATCH=0 -DTS_EVENT_VERSION_MAJOR=0 -DTS_EVENT_VERSION_MINOR=1 -DTS_EVENT_VERSION_PATCH=0 -DTS_LOG_VERSION_MAJOR=0 -DTS_LOG_VERSION_MINOR=1 -DTS_LOG_VERSION_PATCH=0 -DTS_SERVICE_VERSION_MAJOR=0 -DTS_SERVICE_VERSION_MINOR=1 -DTS_SERVICE_VERSION_PATCH=0 -D_GLIBCXX_HAVE_POSIX_SEMAPHORE -D_GLIBCXX_USE_POSIX_SEMAPHORE -D_GNU_SOURCE -D_POSIX_READER_WRITER_LOCKS -I/Users/thomas/TianshanOS/build/config -I/Users/thomas/TianshanOS/components/ts_drivers/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/newlib/platform_include -I/Users/thomas/esp/v5.5.1/esp-idf/components/freertos/config/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/freertos/config/include/freertos -I/Users/thomas/esp/v5.5.1/esp-idf/components/freertos/config/xtensa/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/freertos/FreeRTOS-Kernel/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/freertos/FreeRTOS-Kernel/portable/xtensa/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/freertos/FreeRTOS-Kernel/portable/xtensa/include/freertos -I/Users/thomas/esp/v5.5.1/esp-idf/components/freertos/esp_additions/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/include/soc -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/include/soc/esp32s3 -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/dma/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/ldo/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/debug_probe/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/mspi_timing_tuning/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/mspi_timing_tuning/tuning_scheme_impl/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/power_supply/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/port/esp32s3/. -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/port/esp32s3/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/mspi_timing_tuning/port/esp32s3/. -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/mspi_timing_tuning/port/esp32s3/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/heap/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/heap/tlsf -I/Users/thomas/esp/v5.5.1/esp-idf/components/log/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/soc/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/soc/esp32s3 -I/Users/thomas/esp/v5.5.1/esp-idf/components/soc/esp32s3/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/soc/esp32s3/register -I/Users/thomas/esp/v5.5.1/esp-idf/components/hal/platform_port/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/hal/esp32s3/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/hal/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_rom/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_rom/esp32s3/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_rom/esp32s3/include/esp32s3 -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_rom/esp32s3 -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_common/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_system/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_system/port/soc -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_system/port/include/private -I/Users/thomas/esp/v5.5.1/esp-idf/components/xtensa/esp32s3/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/xtensa/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/xtensa/deprecated_include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_timer/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/include/apps -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/include/apps/sntp -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/lwip/src/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/port/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/port/freertos/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/port/esp32xx/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/port/esp32xx/include/arch -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/port/esp32xx/include/sys -I/Users/thomas/TianshanOS/components/ts_core/include -I/Users/thomas/TianshanOS/components/ts_core/ts_config/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/nvs_flash/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_partition/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/spiffs/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/fatfs/diskio -I/Users/thomas/esp/v5.5.1/esp-idf/components/fatfs/src -I/Users/thomas/esp/v5.5.1/esp-idf/components/fatfs/vfs -I/Users/thomas/esp/v5.5.1/esp-idf/components/wear_levelling/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/sdmmc/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_sdmmc/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_gpio/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_sdspi/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_spi/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_pm/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/json/cJSON -I/Users/thomas/esp/v5.5.1/esp-idf/components/vfs/include -I/Users/thomas/TianshanOS/components/ts_core/ts_log/include -I/Users/thomas/TianshanOS/components/ts_core/ts_event/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_event/include -I/Users/thomas/TianshanOS/components/ts_core/ts_service/include -I/Users/thomas/TianshanOS/components/ts_hal/include -I/Users/thomas/TianshanOS/components/ts_hal/platform/esp32s3 -I/Users/thomas/TianshanOS/components/ts_hal/platform/esp32p4 -I/Users/thomas/esp/v5.5.1/esp-idf/components/driver/deprecated -I/Users/thomas/esp/v5.5.1/esp-idf/components/driver/i2c/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/driver/touch_sensor/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/driver/twai/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/driver/touch_sensor/esp32s3/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_ringbuf/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_pcnt/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_gptimer/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_mcpwm/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_ana_cmpr/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_i2s/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_sdio/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_dac/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_rmt/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_tsens/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_sdm/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_i2c/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_uart/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_ledc/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_parlio/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_usb_serial_jtag/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_twai/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_adc/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_adc/interface -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_adc/esp32s3/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_adc/deprecated/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/spi_flash/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_psram/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_psram/xip_impl/include -mlongcalls  -fno-builtin-memcpy -fno-builtin-memset -fno-builtin-bzero -fno-builtin-stpcpy -fno-builtin-strncpy -fdiagnostics-color=always -ffunction-sections -fdata-sections -Wall -Werror=all -Wno-error=unused-function -Wno-error=unused-variable -Wno-error=unused-but-set-variable -Wno-error=deprecated-declarations -Wextra -Wno-error=extra -Wno-unused-parameter -Wno-sign-compare -Wno-enum-conversion -gdwarf-4 -ggdb -mdisable-hardware-atomics -Og -fno-shrink-wrap -fmacro-prefix-map=/Users/thomas/TianshanOS=. -fmacro-prefix-map=/Users/thomas/esp/v5.5.1/esp-idf=/IDF -fstrict-volatile-bitfields -fno-jump-tables -fno-tree-switch-conversion -std=gnu17 -Wno-old-style-declaration -MD -MT esp-idf/ts_drivers/CMakeFiles/__idf_ts_drivers.dir/src/ts_usb_mux.c.obj -MF esp-idf/ts_drivers/CMakeFiles/__idf_ts_drivers.dir/src/ts_usb_mux.c.obj.d -o esp-idf/ts_drivers/CMakeFiles/__idf_ts_drivers.dir/src/ts_usb_mux.c.obj -c /Users/thomas/TianshanOS/components/ts_drivers/src/ts_usb_mux.c
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_usb_mux.c: In function 'ts_usb_mux_configure':
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_usb_mux.c:60:14: error: 'ts_gpio_config_t' has no member named 'gpio'
   60 |             .gpio = config->gpio_sel,
      |              ^~~~
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_usb_mux.c:61:26: warning: initialized field overwritten [-Woverride-init]
   61 |             .direction = TS_GPIO_DIR_OUTPUT,
      |                          ^~~~~~~~~~~~~~~~~~
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_usb_mux.c:61:26: note: (near initialization for 'cfg.direction')
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_usb_mux.c:64:9: error: too many arguments to function 'ts_gpio_init'
   64 |         ts_gpio_init(&cfg);
      |         ^~~~~~~~~~~~
In file included from /Users/thomas/TianshanOS/components/ts_drivers/src/ts_usb_mux.c:7:
/Users/thomas/TianshanOS/components/ts_hal/include/ts_hal_gpio.h:116:11: note: declared here
  116 | esp_err_t ts_gpio_init(void);
      |           ^~~~~~~~~~~~
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_usb_mux.c:70:14: error: 'ts_gpio_config_t' has no member named 'gpio'
   70 |             .gpio = config->gpio_oe,
      |              ^~~~
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_usb_mux.c:71:26: warning: initialized field overwritten [-Woverride-init]
   71 |             .direction = TS_GPIO_DIR_OUTPUT,
      |                          ^~~~~~~~~~~~~~~~~~
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_usb_mux.c:71:26: note: (near initialization for 'cfg.direction')
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_usb_mux.c:74:9: error: too many arguments to function 'ts_gpio_init'
   74 |         ts_gpio_init(&cfg);
      |         ^~~~~~~~~~~~
/Users/thomas/TianshanOS/components/ts_hal/include/ts_hal_gpio.h:116:11: note: declared here
  116 | esp_err_t ts_gpio_init(void);
      |           ^~~~~~~~~~~~
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_usb_mux.c: In function 'ts_usb_mux_set_target':
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_usb_mux.c:107:36: error: passing argument 1 of 'ts_gpio_set_level' makes pointer from integer without a cast [-Wint-conversion]
  107 |         ts_gpio_set_level(m->config.gpio_sel, sel_level);
      |                           ~~~~~~~~~^~~~~~~~~
      |                                    |
      |                                    int
/Users/thomas/TianshanOS/components/ts_hal/include/ts_hal_gpio.h:170:46: note: expected 'ts_gpio_handle_t' {aka 'struct ts_gpio_s *'} but argument is of type 'int'
  170 | esp_err_t ts_gpio_set_level(ts_gpio_handle_t handle, int level);
      |                             ~~~~~~~~~~~~~~~~~^~~~~~
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_usb_mux.c:115:19: error: 'TS_EVENT_USB' undeclared (first use in this function); did you mean 'TS_EVENT_H'?
  115 |     ts_event_post(TS_EVENT_USB, TS_EVT_USB_MUX_SWITCH, &mux, sizeof(mux), 0);
      |                   ^~~~~~~~~~~~
      |                   TS_EVENT_H
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_usb_mux.c:115:19: note: each undeclared identifier is reported only once for each function it appears in
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_usb_mux.c:115:33: error: 'TS_EVT_USB_MUX_SWITCH' undeclared (first use in this function)
  115 |     ts_event_post(TS_EVENT_USB, TS_EVT_USB_MUX_SWITCH, &mux, sizeof(mux), 0);
      |                                 ^~~~~~~~~~~~~~~~~~~~~
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_usb_mux.c: In function 'ts_usb_mux_enable':
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_usb_mux.c:141:36: error: passing argument 1 of 'ts_gpio_set_level' makes pointer from integer without a cast [-Wint-conversion]
  141 |         ts_gpio_set_level(m->config.gpio_oe, oe_level);
      |                           ~~~~~~~~~^~~~~~~~
      |                                    |
      |                                    int
/Users/thomas/TianshanOS/components/ts_hal/include/ts_hal_gpio.h:170:46: note: expected 'ts_gpio_handle_t' {aka 'struct ts_gpio_s *'} but argument is of type 'int'
  170 | esp_err_t ts_gpio_set_level(ts_gpio_handle_t handle, int level);
      |                             ~~~~~~~~~~~~~~~~~^~~~~~
[4/50] Building C object esp-idf/ts_drivers/CMakeFiles/__idf_ts_drivers.dir/src/ts_drivers.c.obj
[5/50] Building C object esp-idf/ts_drivers/CMakeFiles/__idf_ts_drivers.dir/src/ts_fan.c.obj
FAILED: esp-idf/ts_drivers/CMakeFiles/__idf_ts_drivers.dir/src/ts_fan.c.obj 
/Users/thomas/.espressif/tools/xtensa-esp-elf/esp-14.2.0_20241119/xtensa-esp-elf/bin/xtensa-esp32s3-elf-gcc -DESP_PLATFORM -DIDF_VER=\"v5.5.1-dirty\" -DSOC_MMU_PAGE_SIZE=CONFIG_MMU_PAGE_SIZE -DSOC_XTAL_FREQ_MHZ=CONFIG_XTAL_FREQ -DTS_CONFIG_VERSION_MAJOR=0 -DTS_CONFIG_VERSION_MINOR=1 -DTS_CONFIG_VERSION_PATCH=0 -DTS_EVENT_VERSION_MAJOR=0 -DTS_EVENT_VERSION_MINOR=1 -DTS_EVENT_VERSION_PATCH=0 -DTS_LOG_VERSION_MAJOR=0 -DTS_LOG_VERSION_MINOR=1 -DTS_LOG_VERSION_PATCH=0 -DTS_SERVICE_VERSION_MAJOR=0 -DTS_SERVICE_VERSION_MINOR=1 -DTS_SERVICE_VERSION_PATCH=0 -D_GLIBCXX_HAVE_POSIX_SEMAPHORE -D_GLIBCXX_USE_POSIX_SEMAPHORE -D_GNU_SOURCE -D_POSIX_READER_WRITER_LOCKS -I/Users/thomas/TianshanOS/build/config -I/Users/thomas/TianshanOS/components/ts_drivers/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/newlib/platform_include -I/Users/thomas/esp/v5.5.1/esp-idf/components/freertos/config/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/freertos/config/include/freertos -I/Users/thomas/esp/v5.5.1/esp-idf/components/freertos/config/xtensa/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/freertos/FreeRTOS-Kernel/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/freertos/FreeRTOS-Kernel/portable/xtensa/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/freertos/FreeRTOS-Kernel/portable/xtensa/include/freertos -I/Users/thomas/esp/v5.5.1/esp-idf/components/freertos/esp_additions/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/include/soc -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/include/soc/esp32s3 -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/dma/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/ldo/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/debug_probe/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/mspi_timing_tuning/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/mspi_timing_tuning/tuning_scheme_impl/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/power_supply/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/port/esp32s3/. -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/port/esp32s3/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/mspi_timing_tuning/port/esp32s3/. -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/mspi_timing_tuning/port/esp32s3/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/heap/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/heap/tlsf -I/Users/thomas/esp/v5.5.1/esp-idf/components/log/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/soc/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/soc/esp32s3 -I/Users/thomas/esp/v5.5.1/esp-idf/components/soc/esp32s3/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/soc/esp32s3/register -I/Users/thomas/esp/v5.5.1/esp-idf/components/hal/platform_port/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/hal/esp32s3/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/hal/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_rom/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_rom/esp32s3/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_rom/esp32s3/include/esp32s3 -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_rom/esp32s3 -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_common/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_system/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_system/port/soc -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_system/port/include/private -I/Users/thomas/esp/v5.5.1/esp-idf/components/xtensa/esp32s3/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/xtensa/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/xtensa/deprecated_include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_timer/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/include/apps -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/include/apps/sntp -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/lwip/src/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/port/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/port/freertos/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/port/esp32xx/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/port/esp32xx/include/arch -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/port/esp32xx/include/sys -I/Users/thomas/TianshanOS/components/ts_core/include -I/Users/thomas/TianshanOS/components/ts_core/ts_config/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/nvs_flash/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_partition/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/spiffs/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/fatfs/diskio -I/Users/thomas/esp/v5.5.1/esp-idf/components/fatfs/src -I/Users/thomas/esp/v5.5.1/esp-idf/components/fatfs/vfs -I/Users/thomas/esp/v5.5.1/esp-idf/components/wear_levelling/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/sdmmc/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_sdmmc/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_gpio/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_sdspi/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_spi/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_pm/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/json/cJSON -I/Users/thomas/esp/v5.5.1/esp-idf/components/vfs/include -I/Users/thomas/TianshanOS/components/ts_core/ts_log/include -I/Users/thomas/TianshanOS/components/ts_core/ts_event/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_event/include -I/Users/thomas/TianshanOS/components/ts_core/ts_service/include -I/Users/thomas/TianshanOS/components/ts_hal/include -I/Users/thomas/TianshanOS/components/ts_hal/platform/esp32s3 -I/Users/thomas/TianshanOS/components/ts_hal/platform/esp32p4 -I/Users/thomas/esp/v5.5.1/esp-idf/components/driver/deprecated -I/Users/thomas/esp/v5.5.1/esp-idf/components/driver/i2c/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/driver/touch_sensor/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/driver/twai/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/driver/touch_sensor/esp32s3/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_ringbuf/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_pcnt/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_gptimer/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_mcpwm/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_ana_cmpr/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_i2s/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_sdio/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_dac/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_rmt/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_tsens/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_sdm/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_i2c/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_uart/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_ledc/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_parlio/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_usb_serial_jtag/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_twai/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_adc/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_adc/interface -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_adc/esp32s3/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_adc/deprecated/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/spi_flash/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_psram/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_psram/xip_impl/include -mlongcalls  -fno-builtin-memcpy -fno-builtin-memset -fno-builtin-bzero -fno-builtin-stpcpy -fno-builtin-strncpy -fdiagnostics-color=always -ffunction-sections -fdata-sections -Wall -Werror=all -Wno-error=unused-function -Wno-error=unused-variable -Wno-error=unused-but-set-variable -Wno-error=deprecated-declarations -Wextra -Wno-error=extra -Wno-unused-parameter -Wno-sign-compare -Wno-enum-conversion -gdwarf-4 -ggdb -mdisable-hardware-atomics -Og -fno-shrink-wrap -fmacro-prefix-map=/Users/thomas/TianshanOS=. -fmacro-prefix-map=/Users/thomas/esp/v5.5.1/esp-idf=/IDF -fstrict-volatile-bitfields -fno-jump-tables -fno-tree-switch-conversion -std=gnu17 -Wno-old-style-declaration -MD -MT esp-idf/ts_drivers/CMakeFiles/__idf_ts_drivers.dir/src/ts_fan.c.obj -MF esp-idf/ts_drivers/CMakeFiles/__idf_ts_drivers.dir/src/ts_fan.c.obj.d -o esp-idf/ts_drivers/CMakeFiles/__idf_ts_drivers.dir/src/ts_fan.c.obj -c /Users/thomas/TianshanOS/components/ts_drivers/src/ts_fan.c
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_fan.c: In function 'ts_fan_deinit':
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_fan.c:145:13: error: too many arguments to function 'ts_pwm_deinit'
  145 |             ts_pwm_deinit(s_fans[i].pwm);
      |             ^~~~~~~~~~~~~
In file included from /Users/thomas/TianshanOS/components/ts_drivers/src/ts_fan.c:7:
/Users/thomas/TianshanOS/components/ts_hal/include/ts_hal_pwm.h:98:11: note: declared here
   98 | esp_err_t ts_pwm_deinit(void);
      |           ^~~~~~~~~~~~~
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_fan.c: In function 'ts_fan_configure':
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_fan.c:163:10: error: 'ts_pwm_config_t' has no member named 'gpio'
  163 |         .gpio = config->gpio_pwm,
      |          ^~~~
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_fan.c:165:10: error: 'ts_pwm_config_t' has no member named 'freq_hz'
  165 |         .freq_hz = CONFIG_TS_DRIVERS_FAN_PWM_FREQ,
      |          ^~~~~~~
In file included from /Users/thomas/esp/v5.5.1/esp-idf/components/newlib/platform_include/stdio.h:8,
                 from /Users/thomas/esp/v5.5.1/esp-idf/components/esp_common/include/esp_err.h:10,
                 from /Users/thomas/TianshanOS/components/ts_drivers/include/ts_fan.h:8,
                 from /Users/thomas/TianshanOS/components/ts_drivers/src/ts_fan.c:6:
/Users/thomas/TianshanOS/build/config/sdkconfig.h:1001:40: warning: unsigned conversion from 'int' to 'unsigned char' changes value from '25000' to '168' [-Woverflow]
 1001 | #define CONFIG_TS_DRIVERS_FAN_PWM_FREQ 25000
      |                                        ^~~~~
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_fan.c:165:20: note: in expansion of macro 'CONFIG_TS_DRIVERS_FAN_PWM_FREQ'
  165 |         .freq_hz = CONFIG_TS_DRIVERS_FAN_PWM_FREQ,
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_fan.c:169:28: warning: initialized field overwritten [-Woverride-init]
  169 |         .resolution_bits = 8,
      |                            ^
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_fan.c:169:28: note: (near initialization for 'pwm_cfg.resolution_bits')
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_fan.c:170:10: error: 'ts_pwm_config_t' has no member named 'duty_percent'
  170 |         .duty_percent = 0
      |          ^~~~~~~~~~~~
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_fan.c:173:21: error: too many arguments to function 'ts_pwm_init'
  173 |     esp_err_t ret = ts_pwm_init(&pwm_cfg, &f->pwm);
      |                     ^~~~~~~~~~~
/Users/thomas/TianshanOS/components/ts_hal/include/ts_hal_pwm.h:91:11: note: declared here
   91 | esp_err_t ts_pwm_init(void);
      |           ^~~~~~~~~~~
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_fan.c:182:14: error: 'ts_gpio_config_t' has no member named 'gpio'
  182 |             .gpio = config->gpio_tach,
      |              ^~~~
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_fan.c:183:26: warning: initialized field overwritten [-Woverride-init]
  183 |             .direction = TS_GPIO_DIR_INPUT,
      |                          ^~~~~~~~~~~~~~~~~
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_fan.c:183:26: note: (near initialization for 'gpio_cfg.direction')
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_fan.c:184:14: error: 'ts_gpio_config_t' has no member named 'pull'
  184 |             .pull = TS_GPIO_PULL_UP,
      |              ^~~~
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_fan.c:187:9: error: too many arguments to function 'ts_gpio_init'
  187 |         ts_gpio_init(&gpio_cfg);
      |         ^~~~~~~~~~~~
In file included from /Users/thomas/TianshanOS/components/ts_drivers/src/ts_fan.c:8:
/Users/thomas/TianshanOS/components/ts_hal/include/ts_hal_gpio.h:116:11: note: declared here
  116 | esp_err_t ts_gpio_init(void);
      |           ^~~~~~~~~~~~
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_fan.c:188:9: error: implicit declaration of function 'ts_gpio_set_isr_handler'; did you mean 'ts_gpio_set_isr_callback'? [-Wimplicit-function-declaration]
  188 |         ts_gpio_set_isr_handler(config->gpio_tach, tach_isr, f);
      |         ^~~~~~~~~~~~~~~~~~~~~~~
      |         ts_gpio_set_isr_callback
[6/50] Building C object esp-idf/ts_led/CMakeFiles/__idf_ts_led.dir/src/ts_led_driver.c.obj
FAILED: esp-idf/ts_led/CMakeFiles/__idf_ts_led.dir/src/ts_led_driver.c.obj 
/Users/thomas/.espressif/tools/xtensa-esp-elf/esp-14.2.0_20241119/xtensa-esp-elf/bin/xtensa-esp32s3-elf-gcc -DESP_PLATFORM -DIDF_VER=\"v5.5.1-dirty\" -DSOC_MMU_PAGE_SIZE=CONFIG_MMU_PAGE_SIZE -DSOC_XTAL_FREQ_MHZ=CONFIG_XTAL_FREQ -DTS_CONFIG_VERSION_MAJOR=0 -DTS_CONFIG_VERSION_MINOR=1 -DTS_CONFIG_VERSION_PATCH=0 -DTS_EVENT_VERSION_MAJOR=0 -DTS_EVENT_VERSION_MINOR=1 -DTS_EVENT_VERSION_PATCH=0 -DTS_LOG_VERSION_MAJOR=0 -DTS_LOG_VERSION_MINOR=1 -DTS_LOG_VERSION_PATCH=0 -DTS_SERVICE_VERSION_MAJOR=0 -DTS_SERVICE_VERSION_MINOR=1 -DTS_SERVICE_VERSION_PATCH=0 -D_GLIBCXX_HAVE_POSIX_SEMAPHORE -D_GLIBCXX_USE_POSIX_SEMAPHORE -D_GNU_SOURCE -D_POSIX_READER_WRITER_LOCKS -I/Users/thomas/TianshanOS/build/config -I/Users/thomas/TianshanOS/components/ts_led/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/newlib/platform_include -I/Users/thomas/esp/v5.5.1/esp-idf/components/freertos/config/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/freertos/config/include/freertos -I/Users/thomas/esp/v5.5.1/esp-idf/components/freertos/config/xtensa/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/freertos/FreeRTOS-Kernel/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/freertos/FreeRTOS-Kernel/portable/xtensa/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/freertos/FreeRTOS-Kernel/portable/xtensa/include/freertos -I/Users/thomas/esp/v5.5.1/esp-idf/components/freertos/esp_additions/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/include/soc -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/include/soc/esp32s3 -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/dma/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/ldo/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/debug_probe/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/mspi_timing_tuning/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/mspi_timing_tuning/tuning_scheme_impl/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/power_supply/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/port/esp32s3/. -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/port/esp32s3/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/mspi_timing_tuning/port/esp32s3/. -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/mspi_timing_tuning/port/esp32s3/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/heap/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/heap/tlsf -I/Users/thomas/esp/v5.5.1/esp-idf/components/log/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/soc/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/soc/esp32s3 -I/Users/thomas/esp/v5.5.1/esp-idf/components/soc/esp32s3/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/soc/esp32s3/register -I/Users/thomas/esp/v5.5.1/esp-idf/components/hal/platform_port/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/hal/esp32s3/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/hal/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_rom/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_rom/esp32s3/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_rom/esp32s3/include/esp32s3 -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_rom/esp32s3 -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_common/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_system/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_system/port/soc -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_system/port/include/private -I/Users/thomas/esp/v5.5.1/esp-idf/components/xtensa/esp32s3/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/xtensa/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/xtensa/deprecated_include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_timer/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/include/apps -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/include/apps/sntp -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/lwip/src/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/port/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/port/freertos/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/port/esp32xx/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/port/esp32xx/include/arch -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/port/esp32xx/include/sys -I/Users/thomas/TianshanOS/components/ts_core/include -I/Users/thomas/TianshanOS/components/ts_core/ts_config/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/nvs_flash/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_partition/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/spiffs/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/fatfs/diskio -I/Users/thomas/esp/v5.5.1/esp-idf/components/fatfs/src -I/Users/thomas/esp/v5.5.1/esp-idf/components/fatfs/vfs -I/Users/thomas/esp/v5.5.1/esp-idf/components/wear_levelling/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/sdmmc/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_sdmmc/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_gpio/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_sdspi/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_spi/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_pm/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/json/cJSON -I/Users/thomas/esp/v5.5.1/esp-idf/components/vfs/include -I/Users/thomas/TianshanOS/components/ts_core/ts_log/include -I/Users/thomas/TianshanOS/components/ts_core/ts_event/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_event/include -I/Users/thomas/TianshanOS/components/ts_core/ts_service/include -I/Users/thomas/TianshanOS/components/ts_hal/include -I/Users/thomas/TianshanOS/components/ts_hal/platform/esp32s3 -I/Users/thomas/TianshanOS/components/ts_hal/platform/esp32p4 -I/Users/thomas/esp/v5.5.1/esp-idf/components/driver/deprecated -I/Users/thomas/esp/v5.5.1/esp-idf/components/driver/i2c/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/driver/touch_sensor/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/driver/twai/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/driver/touch_sensor/esp32s3/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_ringbuf/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_pcnt/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_gptimer/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_mcpwm/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_ana_cmpr/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_i2s/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_sdio/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_dac/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_rmt/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_tsens/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_sdm/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_i2c/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_uart/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_ledc/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_parlio/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_usb_serial_jtag/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_twai/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_adc/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_adc/interface -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_adc/esp32s3/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_adc/deprecated/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/spi_flash/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_psram/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_psram/xip_impl/include -I/Users/thomas/TianshanOS/managed_components/espressif__led_strip/include -I/Users/thomas/TianshanOS/managed_components/espressif__led_strip/interface -I/Users/thomas/TianshanOS/components/ts_storage/include -mlongcalls  -fno-builtin-memcpy -fno-builtin-memset -fno-builtin-bzero -fno-builtin-stpcpy -fno-builtin-strncpy -fdiagnostics-color=always -ffunction-sections -fdata-sections -Wall -Werror=all -Wno-error=unused-function -Wno-error=unused-variable -Wno-error=unused-but-set-variable -Wno-error=deprecated-declarations -Wextra -Wno-error=extra -Wno-unused-parameter -Wno-sign-compare -Wno-enum-conversion -gdwarf-4 -ggdb -mdisable-hardware-atomics -Og -fno-shrink-wrap -fmacro-prefix-map=/Users/thomas/TianshanOS=. -fmacro-prefix-map=/Users/thomas/esp/v5.5.1/esp-idf=/IDF -fstrict-volatile-bitfields -fno-jump-tables -fno-tree-switch-conversion -std=gnu17 -Wno-old-style-declaration -MD -MT esp-idf/ts_led/CMakeFiles/__idf_ts_led.dir/src/ts_led_driver.c.obj -MF esp-idf/ts_led/CMakeFiles/__idf_ts_led.dir/src/ts_led_driver.c.obj.d -o esp-idf/ts_led/CMakeFiles/__idf_ts_led.dir/src/ts_led_driver.c.obj -c /Users/thomas/TianshanOS/components/ts_led/src/ts_led_driver.c
/Users/thomas/TianshanOS/components/ts_led/src/ts_led_driver.c: In function 'ts_led_driver_init':
/Users/thomas/TianshanOS/components/ts_led/src/ts_led_driver.c:24:19: error: invalid use of incomplete typedef 'ts_led_device_impl_t' {aka 'struct ts_led_device'}
   24 |     int gpio = dev->config.gpio_pin;
      |                   ^~
/Users/thomas/TianshanOS/components/ts_led/src/ts_led_driver.c:25:20: error: invalid use of incomplete typedef 'ts_led_device_impl_t' {aka 'struct ts_led_device'}
   25 |     int count = dev->config.led_count;
      |                    ^~
/Users/thomas/TianshanOS/components/ts_led/src/ts_led_driver.c:30:10: error: 'led_strip_config_t' has no member named 'led_pixel_format'
   30 |         .led_pixel_format = LED_PIXEL_FORMAT_GRB,
      |          ^~~~~~~~~~~~~~~~
/Users/thomas/TianshanOS/components/ts_led/src/ts_led_driver.c:30:29: error: 'LED_PIXEL_FORMAT_GRB' undeclared (first use in this function)
   30 |         .led_pixel_format = LED_PIXEL_FORMAT_GRB,
      |                             ^~~~~~~~~~~~~~~~~~~~
/Users/thomas/TianshanOS/components/ts_led/src/ts_led_driver.c:30:29: note: each undeclared identifier is reported only once for each function it appears in
/Users/thomas/TianshanOS/components/ts_led/src/ts_led_driver.c:38:30: error: invalid use of incomplete typedef 'ts_led_device_impl_t' {aka 'struct ts_led_device'}
   38 |         .flags.with_dma = dev->config.use_dma,
      |                              ^~
/Users/thomas/TianshanOS/components/ts_led/src/ts_led_driver.c:48:8: error: invalid use of incomplete typedef 'ts_led_device_impl_t' {aka 'struct ts_led_device'}
   48 |     dev->driver_handle = strip;
      |        ^~
/Users/thomas/TianshanOS/components/ts_led/src/ts_led_driver.c: In function 'ts_led_driver_send':
/Users/thomas/TianshanOS/components/ts_led/src/ts_led_driver.c:57:21: error: invalid use of incomplete typedef 'ts_led_device_impl_t' {aka 'struct ts_led_device'}
   57 |     if (!dev || !dev->driver_handle) return ESP_ERR_INVALID_STATE;
      |                     ^~
/Users/thomas/TianshanOS/components/ts_led/src/ts_led_driver.c:59:55: error: invalid use of incomplete typedef 'ts_led_device_impl_t' {aka 'struct ts_led_device'}
   59 |     led_strip_handle_t strip = (led_strip_handle_t)dev->driver_handle;
      |                                                       ^~
/Users/thomas/TianshanOS/components/ts_led/src/ts_led_driver.c:60:29: error: invalid use of incomplete typedef 'ts_led_device_impl_t' {aka 'struct ts_led_device'}
   60 |     uint8_t brightness = dev->brightness;
      |                             ^~
/Users/thomas/TianshanOS/components/ts_led/src/ts_led_driver.c:62:28: error: invalid use of incomplete typedef 'ts_led_device_impl_t' {aka 'struct ts_led_device'}
   62 |     for (int i = 0; i < dev->config.led_count; i++) {
      |                            ^~
/Users/thomas/TianshanOS/components/ts_led/src/ts_led_driver.c:63:32: error: invalid use of incomplete typedef 'ts_led_device_impl_t' {aka 'struct ts_led_device'}
   63 |         ts_led_rgb_t *px = &dev->framebuffer[i];
      |                                ^~
/Users/thomas/TianshanOS/components/ts_led/src/ts_led_driver.c: In function 'ts_led_driver_deinit':
/Users/thomas/TianshanOS/components/ts_led/src/ts_led_driver.c:75:19: error: invalid use of incomplete typedef 'ts_led_device_impl_t' {aka 'struct ts_led_device'}
   75 |     if (dev && dev->driver_handle) {
      |                   ^~
/Users/thomas/TianshanOS/components/ts_led/src/ts_led_driver.c:76:46: error: invalid use of incomplete typedef 'ts_led_device_impl_t' {aka 'struct ts_led_device'}
   76 |         led_strip_del((led_strip_handle_t)dev->driver_handle);
      |                                              ^~
/Users/thomas/TianshanOS/components/ts_led/src/ts_led_driver.c:77:12: error: invalid use of incomplete typedef 'ts_led_device_impl_t' {aka 'struct ts_led_device'}
   77 |         dev->driver_handle = NULL;
      |            ^~
[7/50] Building C object esp-idf/ts_console/CMakeFiles/__idf_ts_console.dir/src/ts_console_args.c.obj
FAILED: esp-idf/ts_console/CMakeFiles/__idf_ts_console.dir/src/ts_console_args.c.obj 
/Users/thomas/.espressif/tools/xtensa-esp-elf/esp-14.2.0_20241119/xtensa-esp-elf/bin/xtensa-esp32s3-elf-gcc -DESP_PLATFORM -DIDF_VER=\"v5.5.1-dirty\" -DSOC_MMU_PAGE_SIZE=CONFIG_MMU_PAGE_SIZE -DSOC_XTAL_FREQ_MHZ=CONFIG_XTAL_FREQ -DTS_CONFIG_VERSION_MAJOR=0 -DTS_CONFIG_VERSION_MINOR=1 -DTS_CONFIG_VERSION_PATCH=0 -DTS_EVENT_VERSION_MAJOR=0 -DTS_EVENT_VERSION_MINOR=1 -DTS_EVENT_VERSION_PATCH=0 -DTS_LOG_VERSION_MAJOR=0 -DTS_LOG_VERSION_MINOR=1 -DTS_LOG_VERSION_PATCH=0 -DTS_SERVICE_VERSION_MAJOR=0 -DTS_SERVICE_VERSION_MINOR=1 -DTS_SERVICE_VERSION_PATCH=0 -D_GLIBCXX_HAVE_POSIX_SEMAPHORE -D_GLIBCXX_USE_POSIX_SEMAPHORE -D_GNU_SOURCE -D_POSIX_READER_WRITER_LOCKS -I/Users/thomas/TianshanOS/build/config -I/Users/thomas/TianshanOS/components/ts_console/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/newlib/platform_include -I/Users/thomas/esp/v5.5.1/esp-idf/components/freertos/config/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/freertos/config/include/freertos -I/Users/thomas/esp/v5.5.1/esp-idf/components/freertos/config/xtensa/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/freertos/FreeRTOS-Kernel/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/freertos/FreeRTOS-Kernel/portable/xtensa/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/freertos/FreeRTOS-Kernel/portable/xtensa/include/freertos -I/Users/thomas/esp/v5.5.1/esp-idf/components/freertos/esp_additions/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/include/soc -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/include/soc/esp32s3 -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/dma/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/ldo/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/debug_probe/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/mspi_timing_tuning/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/mspi_timing_tuning/tuning_scheme_impl/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/power_supply/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/port/esp32s3/. -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/port/esp32s3/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/mspi_timing_tuning/port/esp32s3/. -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/mspi_timing_tuning/port/esp32s3/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/heap/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/heap/tlsf -I/Users/thomas/esp/v5.5.1/esp-idf/components/log/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/soc/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/soc/esp32s3 -I/Users/thomas/esp/v5.5.1/esp-idf/components/soc/esp32s3/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/soc/esp32s3/register -I/Users/thomas/esp/v5.5.1/esp-idf/components/hal/platform_port/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/hal/esp32s3/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/hal/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_rom/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_rom/esp32s3/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_rom/esp32s3/include/esp32s3 -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_rom/esp32s3 -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_common/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_system/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_system/port/soc -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_system/port/include/private -I/Users/thomas/esp/v5.5.1/esp-idf/components/xtensa/esp32s3/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/xtensa/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/xtensa/deprecated_include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_timer/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/include/apps -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/include/apps/sntp -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/lwip/src/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/port/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/port/freertos/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/port/esp32xx/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/port/esp32xx/include/arch -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/port/esp32xx/include/sys -I/Users/thomas/TianshanOS/components/ts_core/include -I/Users/thomas/TianshanOS/components/ts_core/ts_config/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/nvs_flash/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_partition/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/spiffs/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/fatfs/diskio -I/Users/thomas/esp/v5.5.1/esp-idf/components/fatfs/src -I/Users/thomas/esp/v5.5.1/esp-idf/components/fatfs/vfs -I/Users/thomas/esp/v5.5.1/esp-idf/components/wear_levelling/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/sdmmc/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_sdmmc/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_gpio/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_sdspi/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_spi/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_pm/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/json/cJSON -I/Users/thomas/esp/v5.5.1/esp-idf/components/vfs/include -I/Users/thomas/TianshanOS/components/ts_core/ts_log/include -I/Users/thomas/TianshanOS/components/ts_core/ts_event/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_event/include -I/Users/thomas/TianshanOS/components/ts_core/ts_service/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/console -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_vfs_console/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/driver/deprecated -I/Users/thomas/esp/v5.5.1/esp-idf/components/driver/i2c/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/driver/touch_sensor/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/driver/twai/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/driver/touch_sensor/esp32s3/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_ringbuf/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_pcnt/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_gptimer/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_mcpwm/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_ana_cmpr/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_i2s/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_sdio/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_dac/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_rmt/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_tsens/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_sdm/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_i2c/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_uart/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_ledc/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_parlio/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_usb_serial_jtag/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_twai/include -mlongcalls  -fno-builtin-memcpy -fno-builtin-memset -fno-builtin-bzero -fno-builtin-stpcpy -fno-builtin-strncpy -fdiagnostics-color=always -ffunction-sections -fdata-sections -Wall -Werror=all -Wno-error=unused-function -Wno-error=unused-variable -Wno-error=unused-but-set-variable -Wno-error=deprecated-declarations -Wextra -Wno-error=extra -Wno-unused-parameter -Wno-sign-compare -Wno-enum-conversion -gdwarf-4 -ggdb -mdisable-hardware-atomics -Og -fno-shrink-wrap -fmacro-prefix-map=/Users/thomas/TianshanOS=. -fmacro-prefix-map=/Users/thomas/esp/v5.5.1/esp-idf=/IDF -fstrict-volatile-bitfields -fno-jump-tables -fno-tree-switch-conversion -std=gnu17 -Wno-old-style-declaration -MD -MT esp-idf/ts_console/CMakeFiles/__idf_ts_console.dir/src/ts_console_args.c.obj -MF esp-idf/ts_console/CMakeFiles/__idf_ts_console.dir/src/ts_console_args.c.obj.d -o esp-idf/ts_console/CMakeFiles/__idf_ts_console.dir/src/ts_console_args.c.obj -c /Users/thomas/TianshanOS/components/ts_console/src/ts_console_args.c
/Users/thomas/TianshanOS/components/ts_console/src/ts_console_args.c: In function 'ts_arg_free':
/Users/thomas/TianshanOS/components/ts_console/src/ts_console_args.c:39:46: error: division 'sizeof (void **) / sizeof (void *)' does not compute the number of array elements [-Werror=sizeof-pointer-div]
   39 |     arg_freetable(argtable, sizeof(argtable) / sizeof(argtable[0]));
      |                                              ^
/Users/thomas/TianshanOS/components/ts_console/src/ts_console_args.c:33:25: note: first 'sizeof' operand was declared here
   33 | void ts_arg_free(void **argtable)
      |                  ~~~~~~~^~~~~~~~
cc1: some warnings being treated as errors
[8/50] Building C object esp-idf/main/CMakeFiles/__idf_main.dir/main.c.obj
[9/50] Building C object esp-idf/ts_drivers/CMakeFiles/__idf_ts_drivers.dir/src/ts_power.c.obj
FAILED: esp-idf/ts_drivers/CMakeFiles/__idf_ts_drivers.dir/src/ts_power.c.obj 
/Users/thomas/.espressif/tools/xtensa-esp-elf/esp-14.2.0_20241119/xtensa-esp-elf/bin/xtensa-esp32s3-elf-gcc -DESP_PLATFORM -DIDF_VER=\"v5.5.1-dirty\" -DSOC_MMU_PAGE_SIZE=CONFIG_MMU_PAGE_SIZE -DSOC_XTAL_FREQ_MHZ=CONFIG_XTAL_FREQ -DTS_CONFIG_VERSION_MAJOR=0 -DTS_CONFIG_VERSION_MINOR=1 -DTS_CONFIG_VERSION_PATCH=0 -DTS_EVENT_VERSION_MAJOR=0 -DTS_EVENT_VERSION_MINOR=1 -DTS_EVENT_VERSION_PATCH=0 -DTS_LOG_VERSION_MAJOR=0 -DTS_LOG_VERSION_MINOR=1 -DTS_LOG_VERSION_PATCH=0 -DTS_SERVICE_VERSION_MAJOR=0 -DTS_SERVICE_VERSION_MINOR=1 -DTS_SERVICE_VERSION_PATCH=0 -D_GLIBCXX_HAVE_POSIX_SEMAPHORE -D_GLIBCXX_USE_POSIX_SEMAPHORE -D_GNU_SOURCE -D_POSIX_READER_WRITER_LOCKS -I/Users/thomas/TianshanOS/build/config -I/Users/thomas/TianshanOS/components/ts_drivers/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/newlib/platform_include -I/Users/thomas/esp/v5.5.1/esp-idf/components/freertos/config/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/freertos/config/include/freertos -I/Users/thomas/esp/v5.5.1/esp-idf/components/freertos/config/xtensa/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/freertos/FreeRTOS-Kernel/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/freertos/FreeRTOS-Kernel/portable/xtensa/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/freertos/FreeRTOS-Kernel/portable/xtensa/include/freertos -I/Users/thomas/esp/v5.5.1/esp-idf/components/freertos/esp_additions/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/include/soc -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/include/soc/esp32s3 -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/dma/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/ldo/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/debug_probe/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/mspi_timing_tuning/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/mspi_timing_tuning/tuning_scheme_impl/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/power_supply/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/port/esp32s3/. -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/port/esp32s3/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/mspi_timing_tuning/port/esp32s3/. -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/mspi_timing_tuning/port/esp32s3/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/heap/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/heap/tlsf -I/Users/thomas/esp/v5.5.1/esp-idf/components/log/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/soc/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/soc/esp32s3 -I/Users/thomas/esp/v5.5.1/esp-idf/components/soc/esp32s3/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/soc/esp32s3/register -I/Users/thomas/esp/v5.5.1/esp-idf/components/hal/platform_port/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/hal/esp32s3/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/hal/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_rom/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_rom/esp32s3/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_rom/esp32s3/include/esp32s3 -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_rom/esp32s3 -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_common/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_system/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_system/port/soc -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_system/port/include/private -I/Users/thomas/esp/v5.5.1/esp-idf/components/xtensa/esp32s3/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/xtensa/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/xtensa/deprecated_include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_timer/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/include/apps -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/include/apps/sntp -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/lwip/src/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/port/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/port/freertos/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/port/esp32xx/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/port/esp32xx/include/arch -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/port/esp32xx/include/sys -I/Users/thomas/TianshanOS/components/ts_core/include -I/Users/thomas/TianshanOS/components/ts_core/ts_config/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/nvs_flash/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_partition/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/spiffs/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/fatfs/diskio -I/Users/thomas/esp/v5.5.1/esp-idf/components/fatfs/src -I/Users/thomas/esp/v5.5.1/esp-idf/components/fatfs/vfs -I/Users/thomas/esp/v5.5.1/esp-idf/components/wear_levelling/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/sdmmc/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_sdmmc/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_gpio/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_sdspi/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_spi/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_pm/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/json/cJSON -I/Users/thomas/esp/v5.5.1/esp-idf/components/vfs/include -I/Users/thomas/TianshanOS/components/ts_core/ts_log/include -I/Users/thomas/TianshanOS/components/ts_core/ts_event/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_event/include -I/Users/thomas/TianshanOS/components/ts_core/ts_service/include -I/Users/thomas/TianshanOS/components/ts_hal/include -I/Users/thomas/TianshanOS/components/ts_hal/platform/esp32s3 -I/Users/thomas/TianshanOS/components/ts_hal/platform/esp32p4 -I/Users/thomas/esp/v5.5.1/esp-idf/components/driver/deprecated -I/Users/thomas/esp/v5.5.1/esp-idf/components/driver/i2c/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/driver/touch_sensor/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/driver/twai/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/driver/touch_sensor/esp32s3/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_ringbuf/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_pcnt/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_gptimer/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_mcpwm/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_ana_cmpr/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_i2s/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_sdio/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_dac/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_rmt/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_tsens/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_sdm/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_i2c/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_uart/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_ledc/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_parlio/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_usb_serial_jtag/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_twai/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_adc/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_adc/interface -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_adc/esp32s3/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_adc/deprecated/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/spi_flash/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_psram/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_psram/xip_impl/include -mlongcalls  -fno-builtin-memcpy -fno-builtin-memset -fno-builtin-bzero -fno-builtin-stpcpy -fno-builtin-strncpy -fdiagnostics-color=always -ffunction-sections -fdata-sections -Wall -Werror=all -Wno-error=unused-function -Wno-error=unused-variable -Wno-error=unused-but-set-variable -Wno-error=deprecated-declarations -Wextra -Wno-error=extra -Wno-unused-parameter -Wno-sign-compare -Wno-enum-conversion -gdwarf-4 -ggdb -mdisable-hardware-atomics -Og -fno-shrink-wrap -fmacro-prefix-map=/Users/thomas/TianshanOS=. -fmacro-prefix-map=/Users/thomas/esp/v5.5.1/esp-idf=/IDF -fstrict-volatile-bitfields -fno-jump-tables -fno-tree-switch-conversion -std=gnu17 -Wno-old-style-declaration -MD -MT esp-idf/ts_drivers/CMakeFiles/__idf_ts_drivers.dir/src/ts_power.c.obj -MF esp-idf/ts_drivers/CMakeFiles/__idf_ts_drivers.dir/src/ts_power.c.obj.d -o esp-idf/ts_drivers/CMakeFiles/__idf_ts_drivers.dir/src/ts_power.c.obj -c /Users/thomas/TianshanOS/components/ts_drivers/src/ts_power.c
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_power.c: In function 'ts_power_deinit':
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_power.c:46:13: error: too many arguments to function 'ts_adc_deinit'
   46 |             ts_adc_deinit(s_rails[i].adc);
      |             ^~~~~~~~~~~~~
In file included from /Users/thomas/TianshanOS/components/ts_drivers/src/ts_power.c:7:
/Users/thomas/TianshanOS/components/ts_hal/include/ts_hal_adc.h:100:11: note: declared here
  100 | esp_err_t ts_adc_deinit(void);
      |           ^~~~~~~~~~~~~
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_power.c: In function 'ts_power_configure_rail':
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_power.c:66:18: error: 'ts_adc_config_t' has no member named 'gpio'
   66 |                 .gpio = config->adc.gpio,
      |                  ^~~~
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_power.c:67:18: error: 'ts_adc_config_t' has no member named 'atten'
   67 |                 .atten = TS_ADC_ATTEN_11DB,
      |                  ^~~~~
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_power.c:68:18: error: 'ts_adc_config_t' has no member named 'bitwidth'; did you mean 'width'?
   68 |                 .bitwidth = TS_ADC_WIDTH_12BIT
      |                  ^~~~~~~~
      |                  width
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_power.c:70:29: error: too many arguments to function 'ts_adc_init'
   70 |             esp_err_t ret = ts_adc_init(&adc_cfg, &r->adc);
      |                             ^~~~~~~~~~~
/Users/thomas/TianshanOS/components/ts_hal/include/ts_hal_adc.h:93:11: note: declared here
   93 | esp_err_t ts_adc_init(void);
      |           ^~~~~~~~~~~
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_power.c: In function 'ts_power_read':
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_power.c:109:29: error: implicit declaration of function 'ts_adc_read'; did you mean 'ts_i2c_read'? [-Wimplicit-function-declaration]
  109 |             esp_err_t ret = ts_adc_read(r->adc, &raw);
      |                             ^~~~~~~~~~~
      |                             ts_i2c_read
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_power.c:114:13: error: implicit declaration of function 'ts_adc_to_voltage' [-Wimplicit-function-declaration]
  114 |             ts_adc_to_voltage(r->adc, raw, &mv);
      |             ^~~~~~~~~~~~~~~~~
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_power.c:129:23: error: 'TS_EVENT_SYSTEM' undeclared (first use in this function); did you mean 'TS_EVENT_POST'?
  129 |         ts_event_post(TS_EVENT_SYSTEM, TS_EVT_POWER_ALERT_HIGH,
      |                       ^~~~~~~~~~~~~~~
      |                       TS_EVENT_POST
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_power.c:129:23: note: each undeclared identifier is reported only once for each function it appears in
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_power.c:129:40: error: 'TS_EVT_POWER_ALERT_HIGH' undeclared (first use in this function)
  129 |         ts_event_post(TS_EVENT_SYSTEM, TS_EVT_POWER_ALERT_HIGH,
      |                                        ^~~~~~~~~~~~~~~~~~~~~~~
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_power.c:133:40: error: 'TS_EVT_POWER_ALERT_LOW' undeclared (first use in this function)
  133 |         ts_event_post(TS_EVENT_SYSTEM, TS_EVT_POWER_ALERT_LOW,
      |                                        ^~~~~~~~~~~~~~~~~~~~~~
[10/50] Building C object esp-idf/ts_led/CMakeFiles/__idf_ts_led.dir/src/ts_led.c.obj
[11/50] Building C object esp-idf/ts_drivers/CMakeFiles/__idf_ts_drivers.dir/src/ts_device_ctrl.c.obj
FAILED: esp-idf/ts_drivers/CMakeFiles/__idf_ts_drivers.dir/src/ts_device_ctrl.c.obj 
/Users/thomas/.espressif/tools/xtensa-esp-elf/esp-14.2.0_20241119/xtensa-esp-elf/bin/xtensa-esp32s3-elf-gcc -DESP_PLATFORM -DIDF_VER=\"v5.5.1-dirty\" -DSOC_MMU_PAGE_SIZE=CONFIG_MMU_PAGE_SIZE -DSOC_XTAL_FREQ_MHZ=CONFIG_XTAL_FREQ -DTS_CONFIG_VERSION_MAJOR=0 -DTS_CONFIG_VERSION_MINOR=1 -DTS_CONFIG_VERSION_PATCH=0 -DTS_EVENT_VERSION_MAJOR=0 -DTS_EVENT_VERSION_MINOR=1 -DTS_EVENT_VERSION_PATCH=0 -DTS_LOG_VERSION_MAJOR=0 -DTS_LOG_VERSION_MINOR=1 -DTS_LOG_VERSION_PATCH=0 -DTS_SERVICE_VERSION_MAJOR=0 -DTS_SERVICE_VERSION_MINOR=1 -DTS_SERVICE_VERSION_PATCH=0 -D_GLIBCXX_HAVE_POSIX_SEMAPHORE -D_GLIBCXX_USE_POSIX_SEMAPHORE -D_GNU_SOURCE -D_POSIX_READER_WRITER_LOCKS -I/Users/thomas/TianshanOS/build/config -I/Users/thomas/TianshanOS/components/ts_drivers/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/newlib/platform_include -I/Users/thomas/esp/v5.5.1/esp-idf/components/freertos/config/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/freertos/config/include/freertos -I/Users/thomas/esp/v5.5.1/esp-idf/components/freertos/config/xtensa/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/freertos/FreeRTOS-Kernel/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/freertos/FreeRTOS-Kernel/portable/xtensa/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/freertos/FreeRTOS-Kernel/portable/xtensa/include/freertos -I/Users/thomas/esp/v5.5.1/esp-idf/components/freertos/esp_additions/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/include/soc -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/include/soc/esp32s3 -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/dma/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/ldo/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/debug_probe/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/mspi_timing_tuning/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/mspi_timing_tuning/tuning_scheme_impl/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/power_supply/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/port/esp32s3/. -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/port/esp32s3/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/mspi_timing_tuning/port/esp32s3/. -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_hw_support/mspi_timing_tuning/port/esp32s3/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/heap/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/heap/tlsf -I/Users/thomas/esp/v5.5.1/esp-idf/components/log/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/soc/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/soc/esp32s3 -I/Users/thomas/esp/v5.5.1/esp-idf/components/soc/esp32s3/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/soc/esp32s3/register -I/Users/thomas/esp/v5.5.1/esp-idf/components/hal/platform_port/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/hal/esp32s3/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/hal/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_rom/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_rom/esp32s3/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_rom/esp32s3/include/esp32s3 -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_rom/esp32s3 -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_common/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_system/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_system/port/soc -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_system/port/include/private -I/Users/thomas/esp/v5.5.1/esp-idf/components/xtensa/esp32s3/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/xtensa/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/xtensa/deprecated_include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_timer/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/include/apps -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/include/apps/sntp -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/lwip/src/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/port/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/port/freertos/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/port/esp32xx/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/port/esp32xx/include/arch -I/Users/thomas/esp/v5.5.1/esp-idf/components/lwip/port/esp32xx/include/sys -I/Users/thomas/TianshanOS/components/ts_core/include -I/Users/thomas/TianshanOS/components/ts_core/ts_config/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/nvs_flash/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_partition/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/spiffs/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/fatfs/diskio -I/Users/thomas/esp/v5.5.1/esp-idf/components/fatfs/src -I/Users/thomas/esp/v5.5.1/esp-idf/components/fatfs/vfs -I/Users/thomas/esp/v5.5.1/esp-idf/components/wear_levelling/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/sdmmc/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_sdmmc/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_gpio/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_sdspi/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_spi/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_pm/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/json/cJSON -I/Users/thomas/esp/v5.5.1/esp-idf/components/vfs/include -I/Users/thomas/TianshanOS/components/ts_core/ts_log/include -I/Users/thomas/TianshanOS/components/ts_core/ts_event/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_event/include -I/Users/thomas/TianshanOS/components/ts_core/ts_service/include -I/Users/thomas/TianshanOS/components/ts_hal/include -I/Users/thomas/TianshanOS/components/ts_hal/platform/esp32s3 -I/Users/thomas/TianshanOS/components/ts_hal/platform/esp32p4 -I/Users/thomas/esp/v5.5.1/esp-idf/components/driver/deprecated -I/Users/thomas/esp/v5.5.1/esp-idf/components/driver/i2c/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/driver/touch_sensor/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/driver/twai/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/driver/touch_sensor/esp32s3/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_ringbuf/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_pcnt/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_gptimer/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_mcpwm/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_ana_cmpr/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_i2s/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_sdio/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_dac/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_rmt/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_tsens/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_sdm/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_i2c/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_uart/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_ledc/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_parlio/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_usb_serial_jtag/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_driver_twai/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_adc/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_adc/interface -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_adc/esp32s3/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_adc/deprecated/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/spi_flash/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_psram/include -I/Users/thomas/esp/v5.5.1/esp-idf/components/esp_psram/xip_impl/include -mlongcalls  -fno-builtin-memcpy -fno-builtin-memset -fno-builtin-bzero -fno-builtin-stpcpy -fno-builtin-strncpy -fdiagnostics-color=always -ffunction-sections -fdata-sections -Wall -Werror=all -Wno-error=unused-function -Wno-error=unused-variable -Wno-error=unused-but-set-variable -Wno-error=deprecated-declarations -Wextra -Wno-error=extra -Wno-unused-parameter -Wno-sign-compare -Wno-enum-conversion -gdwarf-4 -ggdb -mdisable-hardware-atomics -Og -fno-shrink-wrap -fmacro-prefix-map=/Users/thomas/TianshanOS=. -fmacro-prefix-map=/Users/thomas/esp/v5.5.1/esp-idf=/IDF -fstrict-volatile-bitfields -fno-jump-tables -fno-tree-switch-conversion -std=gnu17 -Wno-old-style-declaration -MD -MT esp-idf/ts_drivers/CMakeFiles/__idf_ts_drivers.dir/src/ts_device_ctrl.c.obj -MF esp-idf/ts_drivers/CMakeFiles/__idf_ts_drivers.dir/src/ts_device_ctrl.c.obj.d -o esp-idf/ts_drivers/CMakeFiles/__idf_ts_drivers.dir/src/ts_device_ctrl.c.obj -c /Users/thomas/TianshanOS/components/ts_drivers/src/ts_device_ctrl.c
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_device_ctrl.c: In function 'shutdown_req_isr':
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_device_ctrl.c:34:28: error: 'TS_EVENT_SYSTEM' undeclared (first use in this function); did you mean 'TS_EVENT_POST'?
   34 |     ts_event_post_from_isr(TS_EVENT_SYSTEM, TS_EVT_DEVICE_SHUTDOWN_REQ,
      |                            ^~~~~~~~~~~~~~~
      |                            TS_EVENT_POST
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_device_ctrl.c:34:28: note: each undeclared identifier is reported only once for each function it appears in
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_device_ctrl.c:34:45: error: 'TS_EVT_DEVICE_SHUTDOWN_REQ' undeclared (first use in this function)
   34 |     ts_event_post_from_isr(TS_EVENT_SYSTEM, TS_EVT_DEVICE_SHUTDOWN_REQ,
      |                                             ^~~~~~~~~~~~~~~~~~~~~~~~~~
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_device_ctrl.c: In function 'ts_device_configure_agx':
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_device_ctrl.c:82:18: error: 'ts_gpio_config_t' has no member named 'gpio'
   82 |                 .gpio = outputs[i],
      |                  ^~~~
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_device_ctrl.c:83:30: warning: initialized field overwritten [-Woverride-init]
   83 |                 .direction = TS_GPIO_DIR_OUTPUT,
      |                              ^~~~~~~~~~~~~~~~~~
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_device_ctrl.c:83:30: note: (near initialization for 'cfg.direction')
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_device_ctrl.c:86:13: error: too many arguments to function 'ts_gpio_init'
   86 |             ts_gpio_init(&cfg);
      |             ^~~~~~~~~~~~
In file included from /Users/thomas/TianshanOS/components/ts_drivers/src/ts_device_ctrl.c:7:
/Users/thomas/TianshanOS/components/ts_hal/include/ts_hal_gpio.h:116:11: note: declared here
  116 | esp_err_t ts_gpio_init(void);
      |           ^~~~~~~~~~~~
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_device_ctrl.c:93:14: error: 'ts_gpio_config_t' has no member named 'gpio'
   93 |             .gpio = pins->gpio_power_good,
      |              ^~~~
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_device_ctrl.c:94:26: warning: initialized field overwritten [-Woverride-init]
   94 |             .direction = TS_GPIO_DIR_INPUT,
      |                          ^~~~~~~~~~~~~~~~~
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_device_ctrl.c:94:26: note: (near initialization for 'cfg.direction')
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_device_ctrl.c:95:14: error: 'ts_gpio_config_t' has no member named 'pull'
   95 |             .pull = TS_GPIO_PULL_UP
      |              ^~~~
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_device_ctrl.c:97:9: error: too many arguments to function 'ts_gpio_init'
   97 |         ts_gpio_init(&cfg);
      |         ^~~~~~~~~~~~
/Users/thomas/TianshanOS/components/ts_hal/include/ts_hal_gpio.h:116:11: note: declared here
  116 | esp_err_t ts_gpio_init(void);
      |           ^~~~~~~~~~~~
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_device_ctrl.c:102:14: error: 'ts_gpio_config_t' has no member named 'gpio'
  102 |             .gpio = pins->gpio_sys_rst,
      |              ^~~~
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_device_ctrl.c:103:26: warning: initialized field overwritten [-Woverride-init]
  103 |             .direction = TS_GPIO_DIR_INPUT,
      |                          ^~~~~~~~~~~~~~~~~
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_device_ctrl.c:103:26: note: (near initialization for 'cfg.direction')
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_device_ctrl.c:104:14: error: 'ts_gpio_config_t' has no member named 'pull'
  104 |             .pull = TS_GPIO_PULL_UP
      |              ^~~~
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_device_ctrl.c:106:9: error: too many arguments to function 'ts_gpio_init'
  106 |         ts_gpio_init(&cfg);
      |         ^~~~~~~~~~~~
/Users/thomas/TianshanOS/components/ts_hal/include/ts_hal_gpio.h:116:11: note: declared here
  116 | esp_err_t ts_gpio_init(void);
      |           ^~~~~~~~~~~~
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_device_ctrl.c:112:14: error: 'ts_gpio_config_t' has no member named 'gpio'
  112 |             .gpio = pins->gpio_shutdown_req,
      |              ^~~~
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_device_ctrl.c:113:26: warning: initialized field overwritten [-Woverride-init]
  113 |             .direction = TS_GPIO_DIR_INPUT,
      |                          ^~~~~~~~~~~~~~~~~
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_device_ctrl.c:113:26: note: (near initialization for 'cfg.direction')
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_device_ctrl.c:114:14: error: 'ts_gpio_config_t' has no member named 'pull'
  114 |             .pull = TS_GPIO_PULL_UP,
      |              ^~~~
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_device_ctrl.c:117:9: error: too many arguments to function 'ts_gpio_init'
  117 |         ts_gpio_init(&cfg);
      |         ^~~~~~~~~~~~
/Users/thomas/TianshanOS/components/ts_hal/include/ts_hal_gpio.h:116:11: note: declared here
  116 | esp_err_t ts_gpio_init(void);
      |           ^~~~~~~~~~~~
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_device_ctrl.c:119:9: error: implicit declaration of function 'ts_gpio_set_isr_handler'; did you mean 'ts_gpio_set_isr_callback'? [-Wimplicit-function-declaration]
  119 |         ts_gpio_set_isr_handler(pins->gpio_shutdown_req, shutdown_req_isr, &agx_id);
      |         ^~~~~~~~~~~~~~~~~~~~~~~
      |         ts_gpio_set_isr_callback
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_device_ctrl.c: In function 'ts_device_power_on':
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_device_ctrl.c:146:40: error: passing argument 1 of 'ts_gpio_set_level' makes pointer from integer without a cast [-Wint-conversion]
  146 |             ts_gpio_set_level(dev->pins.gpio_carrier_pwr_on, 1);
      |                               ~~~~~~~~~^~~~~~~~~~~~~~~~~~~~
      |                                        |
      |                                        int
/Users/thomas/TianshanOS/components/ts_hal/include/ts_hal_gpio.h:170:46: note: expected 'ts_gpio_handle_t' {aka 'struct ts_gpio_s *'} but argument is of type 'int'
  170 | esp_err_t ts_gpio_set_level(ts_gpio_handle_t handle, int level);
      |                             ~~~~~~~~~~~~~~~~~^~~~~~
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_device_ctrl.c:152:40: error: passing argument 1 of 'ts_gpio_set_level' makes pointer from integer without a cast [-Wint-conversion]
  152 |             ts_gpio_set_level(dev->pins.gpio_power_en, 1);
      |                               ~~~~~~~~~^~~~~~~~~~~~~~
      |                                        |
      |                                        int
/Users/thomas/TianshanOS/components/ts_hal/include/ts_hal_gpio.h:170:46: note: expected 'ts_gpio_handle_t' {aka 'struct ts_gpio_s *'} but argument is of type 'int'
  170 | esp_err_t ts_gpio_set_level(ts_gpio_handle_t handle, int level);
      |                             ~~~~~~~~~~~~~~~~~^~~~~~
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_device_ctrl.c:164:40: error: passing argument 1 of 'ts_gpio_set_level' makes pointer from integer without a cast [-Wint-conversion]
  164 |             ts_gpio_set_level(dev->pins.gpio_reset, 1);
      |                               ~~~~~~~~~^~~~~~~~~~~
      |                                        |
      |                                        int
/Users/thomas/TianshanOS/components/ts_hal/include/ts_hal_gpio.h:170:46: note: expected 'ts_gpio_handle_t' {aka 'struct ts_gpio_s *'} but argument is of type 'int'
  170 | esp_err_t ts_gpio_set_level(ts_gpio_handle_t handle, int level);
      |                             ~~~~~~~~~~~~~~~~~^~~~~~
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_device_ctrl.c:172:19: error: 'TS_EVENT_SYSTEM' undeclared (first use in this function); did you mean 'TS_EVENT_POST'?
  172 |     ts_event_post(TS_EVENT_SYSTEM, TS_EVT_DEVICE_POWER_ON, &device, sizeof(device), 0);
      |                   ^~~~~~~~~~~~~~~
      |                   TS_EVENT_POST
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_device_ctrl.c:172:36: error: 'TS_EVT_DEVICE_POWER_ON' undeclared (first use in this function)
  172 |     ts_event_post(TS_EVENT_SYSTEM, TS_EVT_DEVICE_POWER_ON, &device, sizeof(device), 0);
      |                                    ^~~~~~~~~~~~~~~~~~~~~~
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_device_ctrl.c: In function 'ts_device_power_off':
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_device_ctrl.c:189:40: error: passing argument 1 of 'ts_gpio_set_level' makes pointer from integer without a cast [-Wint-conversion]
  189 |             ts_gpio_set_level(dev->pins.gpio_reset, 0);
      |                               ~~~~~~~~~^~~~~~~~~~~
      |                                        |
      |                                        int
/Users/thomas/TianshanOS/components/ts_hal/include/ts_hal_gpio.h:170:46: note: expected 'ts_gpio_handle_t' {aka 'struct ts_gpio_s *'} but argument is of type 'int'
  170 | esp_err_t ts_gpio_set_level(ts_gpio_handle_t handle, int level);
      |                             ~~~~~~~~~~~~~~~~~^~~~~~
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_device_ctrl.c:195:40: error: passing argument 1 of 'ts_gpio_set_level' makes pointer from integer without a cast [-Wint-conversion]
  195 |             ts_gpio_set_level(dev->pins.gpio_power_en, 0);
      |                               ~~~~~~~~~^~~~~~~~~~~~~~
      |                                        |
      |                                        int
/Users/thomas/TianshanOS/components/ts_hal/include/ts_hal_gpio.h:170:46: note: expected 'ts_gpio_handle_t' {aka 'struct ts_gpio_s *'} but argument is of type 'int'
  170 | esp_err_t ts_gpio_set_level(ts_gpio_handle_t handle, int level);
      |                             ~~~~~~~~~~~~~~~~~^~~~~~
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_device_ctrl.c:200:40: error: passing argument 1 of 'ts_gpio_set_level' makes pointer from integer without a cast [-Wint-conversion]
  200 |             ts_gpio_set_level(dev->pins.gpio_carrier_pwr_on, 0);
      |                               ~~~~~~~~~^~~~~~~~~~~~~~~~~~~~
      |                                        |
      |                                        int
/Users/thomas/TianshanOS/components/ts_hal/include/ts_hal_gpio.h:170:46: note: expected 'ts_gpio_handle_t' {aka 'struct ts_gpio_s *'} but argument is of type 'int'
  170 | esp_err_t ts_gpio_set_level(ts_gpio_handle_t handle, int level);
      |                             ~~~~~~~~~~~~~~~~~^~~~~~
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_device_ctrl.c:205:19: error: 'TS_EVENT_SYSTEM' undeclared (first use in this function); did you mean 'TS_EVENT_POST'?
  205 |     ts_event_post(TS_EVENT_SYSTEM, TS_EVT_DEVICE_POWER_OFF, &device, sizeof(device), 0);
      |                   ^~~~~~~~~~~~~~~
      |                   TS_EVENT_POST
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_device_ctrl.c:205:36: error: 'TS_EVT_DEVICE_POWER_OFF' undeclared (first use in this function)
  205 |     ts_event_post(TS_EVENT_SYSTEM, TS_EVT_DEVICE_POWER_OFF, &device, sizeof(device), 0);
      |                                    ^~~~~~~~~~~~~~~~~~~~~~~
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_device_ctrl.c: In function 'ts_device_force_off':
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_device_ctrl.c:220:36: error: passing argument 1 of 'ts_gpio_set_level' makes pointer from integer without a cast [-Wint-conversion]
  220 |         ts_gpio_set_level(dev->pins.gpio_force_off, 1);
      |                           ~~~~~~~~~^~~~~~~~~~~~~~~
      |                                    |
      |                                    int
/Users/thomas/TianshanOS/components/ts_hal/include/ts_hal_gpio.h:170:46: note: expected 'ts_gpio_handle_t' {aka 'struct ts_gpio_s *'} but argument is of type 'int'
  170 | esp_err_t ts_gpio_set_level(ts_gpio_handle_t handle, int level);
      |                             ~~~~~~~~~~~~~~~~~^~~~~~
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_device_ctrl.c:222:36: error: passing argument 1 of 'ts_gpio_set_level' makes pointer from integer without a cast [-Wint-conversion]
  222 |         ts_gpio_set_level(dev->pins.gpio_force_off, 0);
      |                           ~~~~~~~~~^~~~~~~~~~~~~~~
      |                                    |
      |                                    int
/Users/thomas/TianshanOS/components/ts_hal/include/ts_hal_gpio.h:170:46: note: expected 'ts_gpio_handle_t' {aka 'struct ts_gpio_s *'} but argument is of type 'int'
  170 | esp_err_t ts_gpio_set_level(ts_gpio_handle_t handle, int level);
      |                             ~~~~~~~~~~~~~~~~~^~~~~~
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_device_ctrl.c: In function 'ts_device_reset':
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_device_ctrl.c:238:36: error: passing argument 1 of 'ts_gpio_set_level' makes pointer from integer without a cast [-Wint-conversion]
  238 |         ts_gpio_set_level(dev->pins.gpio_reset, 0);
      |                           ~~~~~~~~~^~~~~~~~~~~
      |                                    |
      |                                    int
/Users/thomas/TianshanOS/components/ts_hal/include/ts_hal_gpio.h:170:46: note: expected 'ts_gpio_handle_t' {aka 'struct ts_gpio_s *'} but argument is of type 'int'
  170 | esp_err_t ts_gpio_set_level(ts_gpio_handle_t handle, int level);
      |                             ~~~~~~~~~~~~~~~~~^~~~~~
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_device_ctrl.c:240:36: error: passing argument 1 of 'ts_gpio_set_level' makes pointer from integer without a cast [-Wint-conversion]
  240 |         ts_gpio_set_level(dev->pins.gpio_reset, 1);
      |                           ~~~~~~~~~^~~~~~~~~~~
      |                                    |
      |                                    int
/Users/thomas/TianshanOS/components/ts_hal/include/ts_hal_gpio.h:170:46: note: expected 'ts_gpio_handle_t' {aka 'struct ts_gpio_s *'} but argument is of type 'int'
  170 | esp_err_t ts_gpio_set_level(ts_gpio_handle_t handle, int level);
      |                             ~~~~~~~~~~~~~~~~~^~~~~~
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_device_ctrl.c: In function 'ts_device_get_status':
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_device_ctrl.c:259:57: error: passing argument 1 of 'ts_gpio_get_level' makes pointer from integer without a cast [-Wint-conversion]
  259 |         status->power_good = ts_gpio_get_level(dev->pins.gpio_power_good) == 1;
      |                                                ~~~~~~~~~^~~~~~~~~~~~~~~~
      |                                                         |
      |                                                         int
/Users/thomas/TianshanOS/components/ts_hal/include/ts_hal_gpio.h:178:40: note: expected 'ts_gpio_handle_t' {aka 'struct ts_gpio_s *'} but argument is of type 'int'
  178 | int ts_gpio_get_level(ts_gpio_handle_t handle);
      |                       ~~~~~~~~~~~~~~~~~^~~~~~
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_device_ctrl.c: In function 'ts_device_request_shutdown':
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_device_ctrl.c:290:36: error: passing argument 1 of 'ts_gpio_set_level' makes pointer from integer without a cast [-Wint-conversion]
  290 |         ts_gpio_set_level(dev->pins.gpio_sleep_wake, 1);
      |                           ~~~~~~~~~^~~~~~~~~~~~~~~~
      |                                    |
      |                                    int
/Users/thomas/TianshanOS/components/ts_hal/include/ts_hal_gpio.h:170:46: note: expected 'ts_gpio_handle_t' {aka 'struct ts_gpio_s *'} but argument is of type 'int'
  170 | esp_err_t ts_gpio_set_level(ts_gpio_handle_t handle, int level);
      |                             ~~~~~~~~~~~~~~~~~^~~~~~
/Users/thomas/TianshanOS/components/ts_drivers/src/ts_device_ctrl.c:292:36: error: passing argument 1 of 'ts_gpio_set_level' makes pointer from integer without a cast [-Wint-conversion]
  292 |         ts_gpio_set_level(dev->pins.gpio_sleep_wake, 0);
      |                           ~~~~~~~~~^~~~~~~~~~~~~~~~
      |                                    |
      |                                    int
/Users/thomas/TianshanOS/components/ts_hal/include/ts_hal_gpio.h:170:46: note: expected 'ts_gpio_handle_t' {aka 'struct ts_gpio_s *'} but argument is of type 'int'
  170 | esp_err_t ts_gpio_set_level(ts_gpio_handle_t handle, int level);
      |                             ~~~~~~~~~~~~~~~~~^~~~~~
ninja: build stopped: subcommand failed.
